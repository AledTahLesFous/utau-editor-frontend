<div class="relative w-full px-6 py-4 bg-gradient-to-br from-gray-100 to-gray-200 dark:from-gray-900 dark:to-gray-800 shadow-md flex items-center justify-between">
  
  <!-- Logo -->
  <div 
    class="text-xl font-bold text-gray-900 dark:text-white cursor-pointer hover:scale-105 transition-transform duration-200"
    (click)="goHome()"
  >
    Utau
  </div>

  <!-- Zone de recherche -->
  <div class="relative w-1/3 hidden md:block">
    <input
      type="text"
      [(ngModel)]="searchQuery"
      (input)="onSearchChange()"
      (keydown.enter)="onEnter()"
      (blur)="closeDropdown()"
      placeholder="Search projects..."
      class="w-full px-4 py-2 rounded-full bg-white/80 dark:bg-gray-800/70 text-gray-900 dark:text-gray-100 shadow-inner focus:outline-none focus:ring-2 focus:ring-emerald-500 transition"
    />

    <!-- Dropdown -->
    <div
      *ngIf="isDropdownVisible"
      class="absolute left-0 right-0 mt-2 bg-white dark:bg-gray-800 shadow-xl rounded-xl overflow-hidden z-50 border border-gray-200 dark:border-gray-700"
    >
      <div
        *ngFor="let result of searchResults"
        (mousedown)="goToProject(result)"
        class="px-4 py-2 hover:bg-emerald-500 hover:text-white cursor-pointer transition"
      >
        {{ result.title }}
      </div>

      <div
        *ngIf="searchResults.length === 0"
        class="px-4 py-2 text-gray-500 dark:text-gray-400"
      >
        No results
      </div>
    </div>
  </div>

  <!-- Boutons -->
  <div class="hidden md:flex gap-4">
    <button
      (click)="goToCreateProjet()"
      class="px-4 py-2 bg-gradient-to-r from-emerald-500 to-green-500 text-white rounded-full shadow hover:scale-105 transition-transform duration-300 flex items-center gap-2"
    >
      +
    </button>

    <button
      (click)="goToViewProjects()"
      class="px-4 py-2 bg-gradient-to-r from-teal-500 to-lime-500 text-white rounded-full shadow hover:scale-105 transition-transform duration-300 flex items-center gap-2"
    >
      My Projects
    </button>
  </div>

  <!-- Login/Profile -->
  <div>
    <button
      *ngIf="!isLoggedIn"
      (click)="goToLogin()"
      class="px-4 py-2 text-sm font-semibold text-white bg-gradient-to-r from-blue-500 to-indigo-500 rounded-full shadow hover:scale-105 transition-all duration-300 flex items-center gap-2"
    >
      Login
    </button>

    <button
      *ngIf="isLoggedIn"
      (click)="goToProfile()"
      class="px-4 py-2 text-sm font-semibold text-white bg-gradient-to-r from-purple-500 to-pink-500 rounded-full shadow hover:scale-105 transition-all duration-300 flex items-center gap-2"
    >
      Profile
    </button>
  </div>
</div>
